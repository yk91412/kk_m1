## 과제풀이

- df.loc[:, 'N']과 df['N'] 차이점
  
  교환해서 사용할 수 있다

  하지만 코드의 가독성과 안정성을 위해서는 df.loc[:, 'N']을 사용하는 것이 좋다

- df.loc[:,'A':'C']와 df[['A','B','C']]의 차이점
  
  df[['A', 'B', 'C']]을 사용하는 것이 더 간편하고 직관적일 수 있다

  하지만 레이블 기반 인덱싱이 필요하거나 추가적인 조건을 적용해야 한다면 df.loc[:, 'A':'C']을 사용하는 것이 더 적절


## 그룹 연산

복잡한 데이터를 어떤 기준에 따라 여러 그룹으로 나누어서 관찰할 수 있으며 이런 방식으로 분할 처리하는 것

데이터를 집계, 변환, 필터링하는데 효율적이며 판다스 groupby() 메소드를 사용

여러 열을 그룹화해야 하는 경우에는 groupby(['class'])를 사용하고

하나의 열을 그룹화해야 하는 경우에는 groupby('class')를 사용하는 것이 일반적

** get_group

- 개별 그룹 선택하기

  get_group(원하는 개별) : 그룹화했을 때 여러 그룹으로 나눠진다면 특정 하나만 고를 수 있다

    => 여러개를 원한다면 get_group([~,~])을 이용

- 그룹 객체에서 개별 그룹 선택하기

  ex) 그룹이 1,2,3이 있고 각 각 그 안에 a,b가 나눠져 있다면  get_group(('1','a'))를 사용해

  그룹 1안에 a만 볼 수 있다

- 연산 메소드 사용 가능 : max, min, mean ...


========================================================================

** 함수

-- agg 메서드 --

- 데이터 집계(agg)

집계 연산을 처리하는 사용자 정의 함수를 그룹 객체에 적용하려면 agg() 메서드 사용

모든열에 여러 함수를 매핑 : group객체.agg([함수1,함수2,함수3,…])

각 열마다 다른 함수를 매핑 : group객체.agg({‘열1’: 함수1, ‘열2’:함수2, …})

  ex) 
      def min_max(x): 
          return x.max() - x.min()

  각 그룹의 최댓값과 최솟값의 차이를 계산하여 그룹별로 집계
  
  agg_minmax = grouped(그룹화된 변수명).agg(min_max)
  print(agg_minmax.head())
    
  ex)

  내장함수는 ''를 사용
  
      agg_all = grouped.agg(['max','min','mean',min_max])
      print(agg_all)

  ex)
      str만 가능해서 사용자함수 x
      
      agg_sep = grouped.agg({'fare':['min','max'], 'age':'mean'})
      print(agg_sep)


- 변환(transform)

원소의 본래 행 인덱스와 열 이름을 기준으로 연산 결과를 반환

데이터 변환 연산 : group객체.transform(매핑함수)

-- filter 메서드 --

- 필터링(filter)

그룹 객체에 filter() 메서드를 적용할 때 조건식을 가진 함수를 전달하면 조건이 참인 그룹만을 남김

그룹 객체 필터링 : group 객체.filter(조건 함수식)


  ex)

  데이터 개수가 200개인 그룹만 필터링하여 df로 반환
  
      grouped_filter = grouped.filter(lambda x: len(x) >= 200)
      print(grouped_filter.head()

- 객체에 함수 매핑(apply)

판다스 객체의 개별 원소를 특정 함수에 일대일로 매핑. 사용자가 원하는 대부분의 연산을 그룹 객체에 적용

group 객체.apply(매핑함수)

========================================================================

- value_counts()

    시리즈(Series)에 대해 각 고유한 값의 빈도를 계산하여 반환


- 기존에 있는 컬럼 사용시 .컬럼명으로 사용가능하나

    새로운 열을 만들 땐 ['컬럼명']으로 사용해야함

- 누적 합/ 누적곱 메서드

  cumsum/ cumprod

========================================================================

** 함수 매핑

커스텀 함수(custom function)를 DataFrame에 적용하려면 map함수, apply함수, applymap함수를 사용

map 함수는 Series의 각 요소에 함수를 적용.

apply 함수는 Series 또는 DataFrame의 행이나 열에 함수를 적용.

applymap 함수는 DataFrame의 각 요소에 함수를 적용.
