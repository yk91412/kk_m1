## pandas 데이터구조

#### pandas 데이터 분석 및 조작을 위한 오픈 소스 라이브러리

** 주요 역할, 기능

- Series : 1차원 배열 형태, 데이터 값과 일대일 대응(딕셔너리와 비슷한 구조)
  
- DataFrame : 2차원 테이블

======================================================

* 딕셔너리 -> 시리즈로 변환시

  키 값이 인덱스 값이 된다

* 리스트,튜플 -> 시리즈 변환시

  0부터 숫자가 인덱스 값이 된다

  => index를 매기고싶다면 문자열을 리스트로 or 리스트 형식을 인덱스 값에 삽입

    ex) index = list('abcd') or ['이름','생년월일','성별','학생여부']

* 시리즈의 이름, 인덱스의 이름을 설정할 수 있다

  sr = pd.Series(data, index = ~, name = '~')

  sr.index.name = '~'

  => 인덱스의 이름은 시리즈를 만들 때 함께 생성 불가능
  
* 인덱싱

  변수명[0], 변수명[1,2] -> 파이썬의 기본 인덱싱 방식과 같음

  변수명[[1,2]] -> 위치 기반 인덱싱을 사용해서 여러 요소를 선택할 수 있다

  =========================================================

  * 배열

    #### numpy
    
    np.arange(11,21,2) -> [11,13,15,17,19]

  ==========================================================

  - None과 np.nan의 차이점

      None은 파이썬의 내장형 객체로 주로 객체형 데이터에서 사용
    
      np.nan은 부동 소수점으로 취급되면 주로 숫자형 데이터에서 사용
    
      연산시 np.nan은 NaN 결과를 반환하는 반면 None은 TypeError를 발생시킨다
    
    ** 결측치 설정

    변수명.인덱스이름 = np.nan
    
    변수명['인덱스이름'] = np.nan

    ** 결측치 찾는 방법

    변수명.isnull() or 변수명.isna() => null이라면 True

    변수명.notnull() or 변수명.notna() => null이라면 False

    ** 결측값 처리

    변수명.fillna(0) => 결측치에 0이라는 값을 지정

    ** 결측값 확인 법

    변수명.isnull().sum() => null을 더한 값 / 없다면 0이여야함

    ** 결측값 삭제

    변수명.dropna() => null이라면 삭제

    =========================================================

    ** Series -> list, dict, dataframe 변환

    * Series -> List
   
      시리즈명.tolist()

    * Series -> Dict

      시리즈명.to_dict()
      
    * Series -> DataFrame
   
      시리즈명.to_frame()

      => 컬럼명을 지정해주고 싶다면 name = '~'

    =============================================================
      
   ** 시리즈 자체에 연산이 가능하다

    ex)  시리즈명 + 10 => 시리즈 values에 10이 더해진다

    ==============================================================

   ** 인덱스 기준으로 정렬
    
    - 변수명.sort_index()

   ** values 값 기준으로 정렬

    어떤 컬럼의 값을 기준으로 정렬해야하는지 명시적으로 설정해야하므로 by 옵션에 정렬 기준이 되는
  컬럼명 삽입
  
    - 변수명.sort_values()
 
    => 기존이 오름차순으므로 내림차순을 원한다면 ascending=False 설정

      ==============================================================

    * DataFrame
 
      생성시 index = ~, columns = ~로 설정 가능

  ** iloc 메서드 (숫자 사용)

  슬라이싱 지원 -> 끝점 포함 x

  ** loc 메서드 (이름을 사용)

  슬라이싱 지원 -> 라벨을 사용하여 끝점 포함

  => 새로운 행 추가를 원한다면 데이터프레임명.loc[새로운 행이름] = 원하는 값

    => loc만 사용가능하며 열 추가는 데이터프레임명.loc[:,새로운 열이름] = 원하는 값

      ==============================================================

        ** [numpy random 함수]

    np.random.seed : seed를 통한 난수 생성

    -> seed(0) 임의의 아무 숫자 가능 (숫자마다 다르고 숫자마다 고정)

    np.random.randint : 정수 난수 1개 생성

    -> randint(2,size=100) : 0과 1을 랜덤으로 100개의 난수 생성

    np.random.rand : 0부터 1사이의 균일분포에서 난수 매트릭스 배열 생성

    np.random.randn : 가우시안 표준 정규분포에서 난수 매트릭스 배열 생성

    np.random.shuffle : 기존의 데이터의 순서 바꾸기

    np.random.choice : 기존 데이터에서 sampling

      ==============================================================

  - concat
    
    여러 개의 DataFrame 또는 Series를 연결(concatenate)하여 새로운 DataFrame 또는 Series를 생성

    주로 데이터를 합치거나 결합할 때 사용
    
  - inplace = True : 원본도 같이 바꿈

  - axis = 0 : 행 방향을 기준

  - axis = 1 : 열 방향을 기준

  - at : 라벨 기반 인덱싱을 사용

      단일 값 접근 시 loc보다 빠르나 여러 값을 동시에 접근 하려면 loc 접근자 사용

  - 복사

    데이터프레임명.copy()
  
